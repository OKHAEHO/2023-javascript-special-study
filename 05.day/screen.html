<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link href="css/screen.css" rel="stylesheet">
    <style>
        #imgslider{transition: left 0.5s;}
    </style>
</head>
<body>
    <div id="main">
        <div id="screen">
            <ul id="imgSlider" class="clearfix" style="left: 0px">
                <li><img src="img/hero/slide01.png" alt=""></li>
                <li><img src="img/hero/slide02.png" alt=""></li>
                <li><img src="img/hero/slide03.png" alt=""></li>
                <li><img src="img/hero/slide04.png" alt=""></li>
                <li><img src="img/hero/slide05.png" alt=""></li>
            </ul>
        </div>
        <!--//스크린-->
        <div id="icons" class="clearfix">
            <a href="#" class="icon01 on" data-index='0'>>Avengers</a>
            <a href="#" class="icon02" data-index='1'>X-Men</a>
            <a href="#" class="icon03" data-index='2'>Transformer</a>
            <a href="#" class="icon04" data-index='3'>Superman</a>
            <a href="#" class="icon05" data-index='4'>Batman</a>
        </div>
        <!--//아이콘-->
    </div>
    <!--//메인-->
    <div id="control">
        <a href="#" class="prev">prev</a>
        <a href="#" class="next">>next</a>
    </div>
    <!--//컨트롤-->

    <script>
    const icon = document.querySelector('#icons')
    const icons = document.querySelectorAll('#icons>a')
    const imgSlider = document.querySelector('#imgSlider')
    const prev = document.querySelector('.prev')
    const next = document.querySelector('.next')
    const listLength =  icons.length ;



    icons.forEach((ele) => {
        ele.addEventListener('click',(e)=>{
            let selectedIcon = e.target;
            let selectedNum = selectedIcon.dataset.index //데이터값을 가져올 때 dataset or getattribute //selected.getattribute('data-index')
            let targetPos =  selectedNum * -960;
            imgSlider.style.left = `${targetPos}px`
            console.log(selectedIcon)

            selectIconUpdate(selectedIcon);

            current = selectedNum;


        })
    });

    let current = 0;
    let controlEvent = new Event('click');
    
    let selectIconUpdate = (selectedIcon) =>{
    icons.forEach((e)=>{
        e.classList.remove('on')
    })
    selectedIcon.classList.add('on')
}

    prev.addEventListener('click',()=>{
      current--;
      if(current < 0) current = listLength-1;
      icons[current].dispatchEvent(controlEvent);
      console.log(current)

    })

    next.addEventListener('click',()=>{
      current++;
      if(current>listLength-1) current =  0;
      icons[current].dispatchEvent(controlEvent);
      console.log(current) 


    })



    </script>
</body>
</html>